{
  "user_prompt": "Data flow diagram for PubMed Search: A vertical flowchart showing the complete data flow: (1) User Input - natural language query with optional filters (date range, author, journal, publication type), (2) Query Builder - constructs PubMed query string with field tags [AU], [TA], [PT], (3) ESearch API Call - sends query to esearch.fcgi, returns list of PMIDs in JSON format, (4) EFetch API Call - sends PMIDs to efetch.fcgi, returns full article XML with abstracts, (5) XML Parser - extracts title, authors, journal, date, abstract, DOI, (6) Markdown Formatter - creates structured output with headers and links, (7) LLM Response - formatted results returned to user. Use green arrows for data flow, include sample data snippets at each stage.",
  "doc_type": "default",
  "quality_threshold": 7.5,
  "iterations": [
    {
      "iteration": 1,
      "image_path": "writing_outputs/figures/data_flow_v1.png",
      "prompt": "\nCreate a high-quality scientific diagram with these requirements:\n\nVISUAL QUALITY:\n- Clean white or light background (no textures or gradients)\n- High contrast for readability and printing\n- Professional, publication-ready appearance\n- Sharp, clear lines and text\n- Adequate spacing between elements to prevent crowding\n\nTYPOGRAPHY:\n- Clear, readable sans-serif fonts (Arial, Helvetica style)\n- Minimum 10pt font size for all labels\n- Consistent font sizes throughout\n- All text horizontal or clearly readable\n- No overlapping text\n\nSCIENTIFIC STANDARDS:\n- Accurate representation of concepts\n- Clear labels for all components\n- Include scale bars, legends, or axes where appropriate\n- Use standard scientific notation and symbols\n- Include units where applicable\n\nACCESSIBILITY:\n- Colorblind-friendly color palette (use Okabe-Ito colors if using color)\n- High contrast between elements\n- Redundant encoding (shapes + colors, not just colors)\n- Works well in grayscale\n\nLAYOUT:\n- Logical flow (left-to-right or top-to-bottom)\n- Clear visual hierarchy\n- Balanced composition\n- Appropriate use of whitespace\n- No clutter or unnecessary decorative elements\n\nIMPORTANT - NO FIGURE NUMBERS:\n- Do NOT include \"Figure 1:\", \"Fig. 1\", or any figure numbering in the image\n- Do NOT add captions or titles like \"Figure: ...\" at the top or bottom\n- Figure numbers and captions are added separately in the document/LaTeX\n- The diagram should contain only the visual content itself\n\n\nUSER REQUEST: Data flow diagram for PubMed Search: A vertical flowchart showing the complete data flow: (1) User Input - natural language query with optional filters (date range, author, journal, publication type), (2) Query Builder - constructs PubMed query string with field tags [AU], [TA], [PT], (3) ESearch API Call - sends query to esearch.fcgi, returns list of PMIDs in JSON format, (4) EFetch API Call - sends PMIDs to efetch.fcgi, returns full article XML with abstracts, (5) XML Parser - extracts title, authors, journal, date, abstract, DOI, (6) Markdown Formatter - creates structured output with headers and links, (7) LLM Response - formatted results returned to user. Use green arrows for data flow, include sample data snippets at each stage.\n\nGenerate a publication-quality scientific diagram that meets all the guidelines above.",
      "critique": "Image generated successfully (review skipped)",
      "score": 7.5,
      "needs_improvement": false,
      "success": true
    }
  ],
  "final_image": "writing_outputs/figures/data_flow_v1.png",
  "final_score": 7.5,
  "success": true,
  "early_stop": true,
  "early_stop_reason": "Quality score 7.5 meets threshold 7.5 for default"
}